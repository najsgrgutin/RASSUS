{"ast":null,"code":"var _jsxFileName = \"/Users/matejjuric/Desktop/Frontend/pages/login.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport queryString from \"querystring\";\nimport styles from \"../styles/Login.module.css\";\nimport ErrorMessage from \"../components/ErrorMessage\";\n\nconst Login = () => {\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  const {\n    0: showError,\n    1: setShowError\n  } = useState(false);\n\n  function handleLoginClick(data) {\n    const params = {\n      client_secret: \"489eedf0-1ad8-4ebd-bf60-426709339e66\",\n      username: data.user.username,\n      password: data.user.password,\n      grant_type: \"password\",\n      client_id: \"frontend\"\n    };\n    axios({\n      method: \"post\",\n      url: \"http://localhost:8080/auth/realms/govanj/protocol/openid-connect/token\",\n      data: queryString.stringify(params),\n      config: {\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        }\n      }\n    }).then(response => {\n      console.log(response.data);\n    }).catch(error => {\n      console.error(error);\n    });\n    /* let body = new FormData();\n    body.append(\"client_secret\", \"489eedf0-1ad8-4ebd-bf60-426709339e66\");\n    body.append(\"username\", data.user.username);\n    body.append(\"password\", data.user.password);\n    body.append(\"grant_type\", \"password\");\n    body.append(\"client_id\", \"frontend\");\n    fetch(\"http://localhost:8080/auth/realms/govanj/protocol/openid-connect/token\", {\n        method: \"POST\",\n        headers: {\n          \"Accept\": \"application/x-www-form-urlencoded\",\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        body: body\n      }\n    )\n      .then(res => res.json())\n      .then(res => console.log(res))\n      .catch(error => console.log(\"error\")); */\n  }\n\n  return __jsx(\"form\", {\n    className: styles.loginContainer,\n    onSubmit: handleSubmit(handleLoginClick),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    className: styles.loginTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Login\"), __jsx(\"input\", {\n    className: styles.loginInput,\n    placeholder: \"Username\",\n    name: \"user.username\",\n    ref: register({\n      required: true\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: styles.mailErrorMessage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, errors[\"user.username\"] && errors[\"user.username\"].message), __jsx(\"input\", {\n    className: styles.loginInput,\n    placeholder: \"Password\",\n    name: \"user.password\",\n    type: \"password\",\n    ref: register({\n      required: true\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), __jsx(\"button\", {\n    className: styles.loginButton,\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Login\"), showError ? __jsx(ErrorMessage, {\n    message: \"Wrong username or password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }) : null);\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/matejjuric/Desktop/Frontend/pages/login.js"],"names":["React","useState","useEffect","useForm","queryString","styles","ErrorMessage","Login","register","handleSubmit","errors","showError","setShowError","handleLoginClick","data","params","client_secret","username","user","password","grant_type","client_id","axios","method","url","stringify","config","headers","then","response","console","log","catch","error","loginContainer","loginTitle","loginInput","required","mailErrorMessage","message","loginButton"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport queryString from \"querystring\";\nimport styles from \"../styles/Login.module.css\";\nimport ErrorMessage from \"../components/ErrorMessage\";\n\nconst Login = () => {\n  const { register, handleSubmit, errors } = useForm();\n\n  const [showError, setShowError] = useState(false);\n\n  function handleLoginClick(data) {\n    const params = {\n      client_secret: \"489eedf0-1ad8-4ebd-bf60-426709339e66\",\n      username: data.user.username,\n      password: data.user.password,\n      grant_type: \"password\",\n      client_id: \"frontend\"\n    };\n\n    axios({\n      method: \"post\",\n      url: \"http://localhost:8080/auth/realms/govanj/protocol/openid-connect/token\",\n      data: queryString.stringify(params),\n      config: {\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" }\n      }\n    })\n      .then(response => {\n        console.log(response.data);\n      })\n      .catch(error => {\n        console.error(error);\n      });\n\n    /* let body = new FormData();\n    body.append(\"client_secret\", \"489eedf0-1ad8-4ebd-bf60-426709339e66\");\n    body.append(\"username\", data.user.username);\n    body.append(\"password\", data.user.password);\n    body.append(\"grant_type\", \"password\");\n    body.append(\"client_id\", \"frontend\");\n    fetch(\"http://localhost:8080/auth/realms/govanj/protocol/openid-connect/token\", {\n        method: \"POST\",\n        headers: {\n          \"Accept\": \"application/x-www-form-urlencoded\",\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        body: body\n      }\n    )\n      .then(res => res.json())\n      .then(res => console.log(res))\n      .catch(error => console.log(\"error\")); */\n  }\n\n  return (\n    <form\n      className={styles.loginContainer}\n      onSubmit={handleSubmit(handleLoginClick)}\n    >\n      <h1 className={styles.loginTitle}>Login</h1>\n      <input\n        className={styles.loginInput}\n        placeholder=\"Username\"\n        name=\"user.username\"\n        ref={register({\n          required: true\n        })}\n      />\n      <div className={styles.mailErrorMessage}>\n        {errors[\"user.username\"] && errors[\"user.username\"].message}\n      </div>\n      <input\n        className={styles.loginInput}\n        placeholder=\"Password\"\n        name=\"user.password\"\n        type=\"password\"\n        ref={register({\n          required: true\n        })}\n      />\n      <button className={styles.loginButton} type=\"submit\">\n        Login\n      </button>\n      {showError ? (\n        <ErrorMessage message={\"Wrong username or password\"} />\n      ) : null}\n    </form>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}